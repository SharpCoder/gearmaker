import{S as N,i as O,s as j,e as _,a as o,b as S,n as b,d as L,t as he,c as g,f as p,g as pe,l as X,h as ye,j as ce,k as J,m as K,o as $,p as T,q as R,r as D,u as A,v as M,w as ke,x as we}from"./vendor.eaea008f.js";const Ce=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function t(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(n){if(n.ep)return;n.ep=!0;const l=t(n);fetch(n.href,l)}};Ce();function $e(s){let e;return{c(){e=_("content"),e.innerHTML=`<section class="svelte-468oi6">Welcome to 3d gear maker! You can use this tool to generate the STL file
        for any reasonable spur gear. If you want to customize it even more,
        download the OpenSCAD file and change the parameters as much as you&#39;d
        like.</section> 

    <b>Units = mm</b>`,o(e,"class","content svelte-468oi6")},m(t,u){S(t,e,u)},p:b,i:b,o:b,d(t){t&&L(e)}}}class Te extends N{constructor(e){super();O(this,e,null,$e,j,{})}}function De(s){let e,t,u,n,l,i,d;return{c(){e=_("div"),t=_("span"),u=he(s[1]),n=g(),l=_("input"),o(t,"class","svelte-ykdlsj"),o(l,"type","number"),l.disabled=s[6],o(l,"step",s[3]),o(l,"name",s[2]),o(l,"min",s[4]),o(l,"max",s[5]),o(l,"class","svelte-ykdlsj"),o(e,"class","label svelte-ykdlsj")},m(r,m){S(r,e,m),p(e,t),p(t,u),p(e,n),p(e,l),pe(l,s[0]),i||(d=X(l,"input",s[7]),i=!0)},p(r,[m]){m&2&&ye(u,r[1]),m&64&&(l.disabled=r[6]),m&8&&o(l,"step",r[3]),m&4&&o(l,"name",r[2]),m&16&&o(l,"min",r[4]),m&32&&o(l,"max",r[5]),m&1&&ce(l.value)!==r[0]&&pe(l,r[0])},i:b,o:b,d(r){r&&L(e),i=!1,d()}}}function Ae(s,e,t){let{label:u}=e,{name:n}=e,{value:l}=e,{step:i="1"}=e,{min:d=0}=e,{max:r=1e3}=e,{disabled:m=!1}=e;function v(){l=ce(this.value),t(0,l)}return s.$$set=f=>{"label"in f&&t(1,u=f.label),"name"in f&&t(2,n=f.name),"value"in f&&t(0,l=f.value),"step"in f&&t(3,i=f.step),"min"in f&&t(4,d=f.min),"max"in f&&t(5,r=f.max),"disabled"in f&&t(6,m=f.disabled)},[l,u,n,i,d,r,m,v]}class U extends N{constructor(e){super();O(this,e,Ae,De,j,{label:1,name:2,value:0,step:3,min:4,max:5,disabled:6})}}function Me(s){let e;return{c(){e=_("h4"),e.textContent="Generating preview..."},m(t,u){S(t,e,u)},d(t){t&&L(e)}}}function Se(s){let e;return{c(){e=_("h4"),e.textContent="Failed to generate gear with those parameters"},m(t,u){S(t,e,u)},d(t){t&&L(e)}}}function Le(s){let e,t,u,n,l,i,d,r,m,v,f,G,V,k,E,W,w,z,Y,B,Q,c,P,I,C,x,F,q,Z,ee;function te(a,y){if(a[6])return Se;if(a[5])return Me}let H=te(s),h=H&&H(s);function de(a){s[10](a)}let ne={label:"Teeth",name:"teeth",step:"1",min:15};s[3]!==void 0&&(ne.value=s[3]),l=new U({props:ne}),J.push(()=>K(l,"value",de));function _e(a){s[11](a)}let le={label:"Pitch",name:"pitch",step:"1"};s[0]!==void 0&&(le.value=s[0]),r=new U({props:le}),J.push(()=>K(r,"value",_e));function ge(a){s[12](a)}let se={label:"Pressure Angle",name:"pa",step:"0.1"};s[1]!==void 0&&(se.value=s[1]),f=new U({props:se}),J.push(()=>K(f,"value",ge));function be(a){s[13](a)}let re={label:"Bore",name:"bore",step:"1"};s[2]!==void 0&&(re.value=s[2]),k=new U({props:re}),J.push(()=>K(k,"value",be));function ve(a){s[14](a)}let ae={label:"Thickness",name:"thickness",step:"1"};return s[4]!==void 0&&(ae.value=s[4]),w=new U({props:ae}),J.push(()=>K(w,"value",ve)),{c(){h&&h.c(),e=g(),t=_("form"),u=_("div"),n=_("div"),$(l.$$.fragment),d=g(),$(r.$$.fragment),v=g(),$(f.$$.fragment),V=g(),$(k.$$.fragment),W=g(),$(w.$$.fragment),Y=g(),B=_("div"),Q=g(),c=_("div"),P=_("input"),I=g(),C=_("input"),x=g(),F=_("input"),o(n,"class","gear-parameters"),o(B,"class","gear-preview svelte-1opl7xk"),o(u,"class","form svelte-1opl7xk"),o(P,"class","button svelte-1opl7xk"),o(P,"type","button"),P.value="Reset",o(C,"class","button svelte-1opl7xk"),o(C,"type","button"),C.value="View OpenSCAD Code",C.disabled=s[5],o(F,"class","button svelte-1opl7xk"),o(F,"type","button"),F.value="Download STL",F.disabled=s[5],o(c,"class","actions svelte-1opl7xk"),o(t,"action","https://api.3dgearmaker.com/gearmaker/spur/stl"),o(t,"method","GET"),o(t,"class","svelte-1opl7xk")},m(a,y){h&&h.m(a,y),S(a,e,y),S(a,t,y),p(t,u),p(u,n),T(l,n,null),p(n,d),T(r,n,null),p(n,v),T(f,n,null),p(n,V),T(k,n,null),p(n,W),T(w,n,null),p(u,Y),p(u,B),p(t,Q),p(t,c),p(c,P),p(c,I),p(c,C),p(c,x),p(c,F),q=!0,Z||(ee=[X(P,"click",s[7]),X(C,"click",s[8]),X(F,"click",s[9])],Z=!0)},p(a,[y]){H!==(H=te(a))&&(h&&h.d(1),h=H&&H(a),h&&(h.c(),h.m(e.parentNode,e)));const ue={};!i&&y&8&&(i=!0,ue.value=a[3],R(()=>i=!1)),l.$set(ue);const ie={};!m&&y&1&&(m=!0,ie.value=a[0],R(()=>m=!1)),r.$set(ie);const oe={};!G&&y&2&&(G=!0,oe.value=a[1],R(()=>G=!1)),f.$set(oe);const fe={};!E&&y&4&&(E=!0,fe.value=a[2],R(()=>E=!1)),k.$set(fe);const me={};!z&&y&16&&(z=!0,me.value=a[4],R(()=>z=!1)),w.$set(me),(!q||y&32)&&(C.disabled=a[5]),(!q||y&32)&&(F.disabled=a[5])},i(a){q||(D(l.$$.fragment,a),D(r.$$.fragment,a),D(f.$$.fragment,a),D(k.$$.fragment,a),D(w.$$.fragment,a),q=!0)},o(a){A(l.$$.fragment,a),A(r.$$.fragment,a),A(f.$$.fragment,a),A(k.$$.fragment,a),A(w.$$.fragment,a),q=!1},d(a){h&&h.d(a),a&&L(e),a&&L(t),M(l),M(r),M(f),M(k),M(w),Z=!1,ke(ee)}}}function Pe(s,e,t){let u=24,n=20,l=Math.round(n*100),i=14.5,d=Math.round(i*100),r=5,m=Math.round(r*100),v=6,f=!1,G=!1;new Date().getTime();function V(){t(3,u=24),t(0,n=20),t(1,i=14.5),t(2,r=5),t(4,v=6)}function k(){return t(5,f=!0),t(6,G=!1),new Promise((c,P)=>{we.get(`https://tn7aauwobu7fsyqtlrph7yinhy0hmyzx.lambda-url.us-west-2.on.aws/?teeth=${u}&pitch=${n}&pa=${i}&bore=${r}&thickness=${v}`,{withCredentials:!1}).then(I=>{const{data:C}=I;C==="hello, world!"?(new Date().getTime(),t(6,G=!1),c(null)):(t(6,G=!0),P())}).catch(I=>{console.error(I),P()}).finally(()=>{t(5,f=!1)})})}function E(){k().then(()=>{window.open(`https://3dgearmaker.com/assets/files/SpurGear-T${u}-P${l}-pA${d}-b${m}-${v}mm.scad`,"_blank")})}function W(){k().then(()=>{window.location.assign(`https://3dgearmaker.com/assets/files/SpurGear-T${u}-P${l}-pA${d}-b${m}-${v}mm.stl`)})}function w(c){u=c,t(3,u)}function z(c){n=c,t(0,n)}function Y(c){i=c,t(1,i)}function B(c){r=c,t(2,r)}function Q(c){v=c,t(4,v)}return s.$$.update=()=>{s.$$.dirty&7&&(d=Math.round(i*100),l=Math.round(n*100),m=Math.round(r*100))},[n,i,r,u,v,f,G,V,E,W,w,z,Y,B,Q]}class Ge extends N{constructor(e){super();O(this,e,Pe,Le,j,{})}}function Fe(s){let e,t,u,n,l;return t=new Te({}),n=new Ge({}),{c(){e=_("content"),$(t.$$.fragment),u=g(),$(n.$$.fragment),o(e,"class","svelte-dh2jpw")},m(i,d){S(i,e,d),T(t,e,null),p(e,u),T(n,e,null),l=!0},p:b,i(i){l||(D(t.$$.fragment,i),D(n.$$.fragment,i),l=!0)},o(i){A(t.$$.fragment,i),A(n.$$.fragment,i),l=!1},d(i){i&&L(e),M(t),M(n)}}}class Ne extends N{constructor(e){super();O(this,e,null,Fe,j,{})}}function Oe(s){let e;return{c(){e=_("footer"),e.innerHTML='Copyright \xA9 2022, <a href="https://joshcole.dev/" target="_blank">Josh Cole</a>',o(e,"class","svelte-1tgbrng")},m(t,u){S(t,e,u)},p:b,i:b,o:b,d(t){t&&L(e)}}}class je extends N{constructor(e){super();O(this,e,null,Oe,j,{})}}function Ie(s){let e;return{c(){e=_("div"),e.textContent="3D Gear Maker",o(e,"class","header svelte-ake2t5")},m(t,u){S(t,e,u)},p:b,i:b,o:b,d(t){t&&L(e)}}}class qe extends N{constructor(e){super();O(this,e,null,Ie,j,{})}}function He(s){let e,t,u,n,l,i,d;return t=new qe({}),n=new Ne({}),i=new je({}),{c(){e=_("main"),$(t.$$.fragment),u=g(),$(n.$$.fragment),l=g(),$(i.$$.fragment),o(e,"class","svelte-1oyedop")},m(r,m){S(r,e,m),T(t,e,null),p(e,u),T(n,e,null),p(e,l),T(i,e,null),d=!0},p:b,i(r){d||(D(t.$$.fragment,r),D(n.$$.fragment,r),D(i.$$.fragment,r),d=!0)},o(r){A(t.$$.fragment,r),A(n.$$.fragment,r),A(i.$$.fragment,r),d=!1},d(r){r&&L(e),M(t),M(n),M(i)}}}class Ee extends N{constructor(e){super();O(this,e,null,He,j,{})}}new Ee({target:document.getElementById("app")});
